<!DOCTYPE html>
<html lang="de">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    {% seo %}

    {%- comment -%} RSS/Atom feed hint {%- endcomment -%}
    <link rel="alternate" type="application/atom+xml" href="{{ '/feed.xml' | absolute_url }}" title="{{ site.title }}">

    {%- comment -%} rel=prev/next for paginated lists {%- endcomment -%}
    {% if paginator %}
      {% if paginator.previous_page %}
        <link rel="prev" href="{% if paginator.previous_page == 1 %}{{ '/' | relative_url | absolute_url }}{% else %}{{ paginator.previous_page_path | absolute_url }}{% endif %}">
      {% endif %}
      {% if paginator.next_page %}
        <link rel="next" href="{{ paginator.next_page_path | absolute_url }}">
      {% endif %}
      {%- comment -%}
        Option: prevent thin duplicates on page > 1, but still let Google follow links.
        Remove this meta if you actively want paginated pages to rank.
      {%- endcomment -%}
      {% if paginator.page > 1 %}
        <meta name="robots" content="noindex,follow">
      {% endif %}
    {% endif %}

    {%- comment -%} Breadcrumbs for posts (JSON-LD) {%- endcomment -%}
    {% if page.layout == 'post' %}
      {% assign primary_cat = page.categories | first %}
      {% assign primary_cat_slug = primary_cat | slugify %}
      <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          { "@type": "ListItem", "position": 1, "name": "Home", "item": "{{ '/' | absolute_url }}" }{% if primary_cat %},
          { "@type": "ListItem", "position": 2, "name": "{{ primary_cat }}", "item": "{{ ('/categories#' | append: primary_cat_slug) | absolute_url }}" }{% endif %},
          { "@type": "ListItem", "position": 3, "name": "{{ page.title }}", "item": "{{ page.url | absolute_url }}" }
        ]
      }
      </script>
    {% endif %}
    {% if page.robots %}
      <meta name="robots" content="{{ page.robots }}">
    {% endif %}

    <meta
      name="keywords"
      content="{% for tag in site.tags %}{{ tag[0] }}{% if forloop.last == false %}, {% endif %}{% endfor %}"
    />
    <link
      rel="stylesheet"
      href="{{ '/assets/css/bootstrap.min.css' | relative_url }}"
    />
    <link rel="icon" type="image/x-icon" href="/assets/favicon/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/favicon-180x180.png">
    <link rel="manifest" href="/manifest.json">
  </head>

  <body class="{{ page.layout | default: '' }}">
    <!-- Header Navigation -->
    <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
      <div class="container">
        <!-- Title -->
        <a class="navbar-brand" href="{{ site.baseurl }}/">
          {{ site.title }}
        </a>

        <!-- Toggler -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarResponsive"
          aria-controls="navbarResponsive"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation Menu -->
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ms-auto">
            {% assign displayed_categories = "" %}
            {% for category in site.categories %}
              {% assign top_level_category = category[0] | split: '/' | first %}
              {% if displayed_categories contains top_level_category %}
                {% continue %}
              {% else %}
                <li class="nav-item">
                  <a
                    class="nav-link"
                    href="{{ site.baseurl }}/categories#{{ top_level_category | slugify }}"
                  >
                    {{ top_level_category | capitalize }}
                  </a>
                </li>
                {% assign displayed_categories = displayed_categories | append: top_level_category %}
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="container">{{ content }}</main>

    <!-- Footer -->
    <footer class="my-3">
      <div class="container text-center">
        <ul class="list-inline">
          {% for page in site.pages %}
            {% if page.title and page.permalink and page.exclude != true %}
              <li class="list-inline-item">
                <a
                  href="{{ site.baseurl }}{{ page.permalink }}"
                  class="text-decoration-none"
                >
                  {{ page.title }}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </footer>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
